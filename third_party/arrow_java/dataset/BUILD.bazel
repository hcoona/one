load("@rules_java//java:defs.bzl", "java_library")
load("//bazel:jni.bzl", "extract_native_header_jar")

java_library(
    name = "dataset",
    srcs = glob([
        "src/main/java/**/*.java",
    ]),
    deps = [
        "@maven//:org_apache_arrow_arrow_memory_core",
        "@maven//:org_apache_arrow_arrow_vector",
    ],
)

extract_native_header_jar(
    name = "dataset_native_header",
    outs = [
        "org_apache_arrow_dataset_file_JniWrapper.h",
        "org_apache_arrow_dataset_jni_JniWrapper.h",
        "org_apache_arrow_dataset_jni_NativeMemoryPool.h",
    ],
    lib = ":dataset",
    visibility = ["//visibility:public"],
)
